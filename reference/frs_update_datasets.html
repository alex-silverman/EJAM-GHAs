<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Main function that updates several FRS datasets for use in EJAM — frs_update_datasets • EJAM</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Main function that updates several FRS datasets for use in EJAM — frs_update_datasets"><meta name="description" content="Main function that updates several FRS datasets for use in EJAM"><meta property="og:description" content="Main function that updates several FRS datasets for use in EJAM"><meta property="og:image" content="https://usepa.github.io/EJAM/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">EJAM</a>

    <small class="nav-text text-warning me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.32.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Overview for EJAM Users</h6></li>
    <li><a class="dropdown-item" href="../articles/0_whatis.html">What is EJAM?</a></li>
    <li><a class="dropdown-item" href="../articles/0_webapp.html">Accessing the Web App</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>For analysts using R</h6></li>
    <li><a class="dropdown-item" href="../articles/1_installing.html">Installing the EJAM R package</a></li>
    <li><a class="dropdown-item" href="../articles/2_quickstart.html">Quick Start Guide</a></li>
    <li><a class="dropdown-item" href="../articles/3_analyzing.html">Using EJAM for Analysis in R</a></li>
    <li><a class="dropdown-item" href="../articles/4_advanced.html">Advanced Features</a></li>
    <li><a class="dropdown-item" href="../articles/zipcodes.html">Zipcodes</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Main function that updates several FRS datasets for use in EJAM</h1>
      <small class="dont-index">Source: <a href="https://github.com/USEPA/EJAM-open/blob/v2.32.2/R/frs_update_datasets.R" class="external-link"><code>R/frs_update_datasets.R</code></a></small>
      <div class="d-none name"><code>frs_update_datasets.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Main function that updates several FRS datasets for use in EJAM</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">frs_update_datasets</span><span class="op">(</span></span>
<span>  folder <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  folder_save_as_arrow <span class="op">=</span> <span class="st">"."</span>,</span>
<span>  downloaded_and_unzipped_already <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  csvname <span class="op">=</span> <span class="st">"NATIONAL_SINGLE.CSV"</span>,</span>
<span>  save_as_arrow_frs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  save_as_arrow_frs_by_programid <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  save_as_arrow_frs_by_naics <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  save_as_arrow_frs_by_sic <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  save_as_arrow_frs_by_mact <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  save_as_data_frs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  save_as_data_frs_by_programid <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  save_as_data_frs_by_naics <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  save_as_data_frs_by_sic <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  save_as_data_frs_by_mact <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-folder">folder<a class="anchor" aria-label="anchor" href="#arg-folder"></a></dt>
<dd><p>optional folder for where to download to; uses temp folder by default</p></dd>


<dt id="arg-folder-save-as-arrow">folder_save_as_arrow<a class="anchor" aria-label="anchor" href="#arg-folder-save-as-arrow"></a></dt>
<dd><p>optional folder where to save any .arrow files</p></dd>


<dt id="arg-downloaded-and-unzipped-already">downloaded_and_unzipped_already<a class="anchor" aria-label="anchor" href="#arg-downloaded-and-unzipped-already"></a></dt>
<dd><p>optional, set to TRUE if already downloaded latest
and folder will be specified or can be assumed to be current working directory</p></dd>


<dt id="arg-csvname">csvname<a class="anchor" aria-label="anchor" href="#arg-csvname"></a></dt>
<dd><p>optional, passed to frs_get()</p></dd>


<dt id="arg-save-as-arrow-frs">save_as_arrow_frs<a class="anchor" aria-label="anchor" href="#arg-save-as-arrow-frs"></a></dt>
<dd><p>Whether to save as .arrow in getwd()</p></dd>


<dt id="arg-save-as-arrow-frs-by-programid">save_as_arrow_frs_by_programid<a class="anchor" aria-label="anchor" href="#arg-save-as-arrow-frs-by-programid"></a></dt>
<dd><p>Whether to save as .arrow in getwd()</p></dd>


<dt id="arg-save-as-arrow-frs-by-naics">save_as_arrow_frs_by_naics<a class="anchor" aria-label="anchor" href="#arg-save-as-arrow-frs-by-naics"></a></dt>
<dd><p>Whether to save as .arrow in getwd()</p></dd>


<dt id="arg-save-as-arrow-frs-by-sic">save_as_arrow_frs_by_sic<a class="anchor" aria-label="anchor" href="#arg-save-as-arrow-frs-by-sic"></a></dt>
<dd><p>Whether to save as .arrow in getwd()</p></dd>


<dt id="arg-save-as-arrow-frs-by-mact">save_as_arrow_frs_by_mact<a class="anchor" aria-label="anchor" href="#arg-save-as-arrow-frs-by-mact"></a></dt>
<dd><p>Whether to save as .arrow in getwd()</p></dd>


<dt id="arg-save-as-data-frs">save_as_data_frs<a class="anchor" aria-label="anchor" href="#arg-save-as-data-frs"></a></dt>
<dd><p>Whether to save as .rda in ./data/</p></dd>


<dt id="arg-save-as-data-frs-by-programid">save_as_data_frs_by_programid<a class="anchor" aria-label="anchor" href="#arg-save-as-data-frs-by-programid"></a></dt>
<dd><p>Whether to save as .rda in ./data/</p></dd>


<dt id="arg-save-as-data-frs-by-naics">save_as_data_frs_by_naics<a class="anchor" aria-label="anchor" href="#arg-save-as-data-frs-by-naics"></a></dt>
<dd><p>Whether to save as .rda in ./data/</p></dd>


<dt id="arg-save-as-data-frs-by-sic">save_as_data_frs_by_sic<a class="anchor" aria-label="anchor" href="#arg-save-as-data-frs-by-sic"></a></dt>
<dd><p>Whether to save as .rda in ./data/</p></dd>


<dt id="arg-save-as-data-frs-by-mact">save_as_data_frs_by_mact<a class="anchor" aria-label="anchor" href="#arg-save-as-data-frs-by-mact"></a></dt>
<dd><p>Whether to save as .rda in ./data/</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Creates saved copies of datasets for the R package, overwriting old ones, using
<code><a href="frs_get.html">frs_get()</a></code> and <code><a href="frs_inactive_ids.html">frs_inactive_ids()</a></code> and other functions, and invisibly returns <a href="frs.html">frs</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function is used by someone maintaining the EJAM package,
to obtain updated Facility Registry Service (FRS) data such as
the locations, IDs, etc. for hundreds of thousands of EPA-regulated sites.</p>
<p>This function is only for a package maintainer/updater
(or analyst who wants to get the latest information).
It would normally be called from a script like
<code>EJAM/data-raw/datacreate_0_UPDATE_ALL_DATASETS.R</code></p>
<p>These datasets are obtained from EPA servers, reformatted for this package, and
then stored in a pins board for use by the package.
The updated files can be moved to the pins board via the script,
but where they are stored may change as the EJAM package develops.
The save_as_data_ parameters here are set to FALSE because the files are
not saved in the source package or its repository like
typical package datasets would be saved in the data folder of the source package.</p>
<p>The files later get downloaded for local use during the process
of installing the EJAM package.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="frs_get.html">frs_get()</a></code> <code><a href="frs_inactive_ids.html">frs_inactive_ids()</a></code> <code><a href="frs_drop_inactive.html">frs_drop_inactive()</a></code>
<code><a href="frs_make_programid_lookup.html">frs_make_programid_lookup()</a></code> <code><a href="frs_make_naics_lookup.html">frs_make_naics_lookup()</a></code> <code><a href="frs_make_sic_lookup.html">frs_make_sic_lookup()</a></code> <code><a href="frs_make_mact_lookup.html">frs_make_mact_lookup()</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>US EPA 2025</p>
</div>

<div class="pkgdown-footer-right">
  <p>EJAM Version 2.32.2</p>
</div>

    </footer></div>





  </body></html>

