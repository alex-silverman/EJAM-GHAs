<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Deploy EJAM Application • EJAM</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Deploy EJAM Application">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">EJAM</a>

    <small class="nav-text text-warning me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.32.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Overview for EJAM Users</h6></li>
    <li><a class="dropdown-item" href="../articles/0_whatis.html">What is EJAM?</a></li>
    <li><a class="dropdown-item" href="../articles/0_webapp.html">Accessing the Web App</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>For analysts using R</h6></li>
    <li><a class="dropdown-item" href="../articles/1_installing.html">Installing the EJAM R package</a></li>
    <li><a class="dropdown-item" href="../articles/2_quickstart.html">Quick Start Guide</a></li>
    <li><a class="dropdown-item" href="../articles/3_analyzing.html">Using EJAM for Analysis in R</a></li>
    <li><a class="dropdown-item" href="../articles/4_advanced.html">Advanced Features</a></li>
    <li><a class="dropdown-item" href="../articles/zipcodes.html">Zipcodes</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>For package developers</h6></li>
    <li><a class="dropdown-item" href="../articles/dev_deploy-app.html">Deploy EJAM Application</a></li>
    <li><a class="dropdown-item" href="../articles/dev_update-datasets.html">Update EJAM Datasets</a></li>
    <li><a class="dropdown-item" href="../articles/dev_update-package.html">Update EJAM Package</a></li>
    <li><a class="dropdown-item" href="../articles/dev_run-unit-tests.html">Package Contributors - Running Unit Tests</a></li>
    <li><a class="dropdown-item" href="../articles/dev_run-shinytests.html">Testing EJAM App with Shinytests</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Deploy EJAM Application</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/USEPA/EJAM-open/blob/HEAD/vignettes/dev_deploy-app.Rmd" class="external-link"><code>vignettes/dev_deploy-app.Rmd</code></a></small>
      <div class="d-none name"><code>dev_deploy-app.Rmd</code></div>
    </div>

    
    
<p>While the servers hosting the EJAM web application are no longer up
and running, this document outlines the application deployment process
we used.</p>
<div class="section level2">
<h2 id="update-ejam-application">Update EJAM Application<a class="anchor" aria-label="anchor" href="#update-ejam-application"></a>
</h2>
<p>After updating Main in EJAM-open (see <code>dev_update-package</code>
vignette) so that the latest version is public…</p>
<ol style="list-style-type: decimal">
<li>Run <code>data-raw/rsconnect_manifest_update.R</code>, using
EJAM-open as the repo in the <code>install_github</code> command.
<ol style="list-style-type: lower-alpha">
<li>In this way, we’re updating the <code>manifest.json</code> file in
EJAM, but with reference to EJAM-open</li>
<li>It’s important to use the public EJAM-open repo as it ensures the
hosted site can install the EJAM package as a dependency. (It may not
have access to the private EJAM repo)</li>
</ol>
</li>
<li>Update Staging + Production servers
<ol style="list-style-type: lower-alpha">
<li>Merge EJAM’s Main branch into PUBLIC-EJSCREEN</li>
<li>Ensure <code>isPublic</code> parameter is set to TRUE in the call to
the <code>run_app</code> function in <code>app.R</code>
<ol style="list-style-type: lower-roman">
<li>The <code>isPublic</code> flag determines whether to show the public
or internal version of the application.</li>
</ol>
</li>
<li>PUBLIC-EJSCREEN is automatically connected to the public site, so
changes to this branch will automatically be pulled into the site.</li>
</ol>
</li>
<li>Update Deploy Posit server
<ol style="list-style-type: lower-alpha">
<li>Merge EJAM’s Main branch into deploy-posit</li>
<li>Ensure <code>isPublic</code> parameter is set to FALSE</li>
<li>deploy-posit is automatically connected to the development site, so
changes to this branch will automatically be pulled into the site.</li>
</ol>
</li>
<li>Merge Main back into development so that development has the updated
<code>manifest.json</code> file. This ensures all branches are
consistent.</li>
</ol>
</div>
<div class="section level2">
<h2 id="potential-improvements">Potential Improvements<a class="anchor" aria-label="anchor" href="#potential-improvements"></a>
</h2>
<p>One way to improve this process is to modify the
<code>isPublic</code> toggle to be an environment variable. This would
allow us to set the value once in each application server, and not have
to change it each time we push updates. Moreover, it makes testing the
public and internal versions of the app easier to handle in the GitHub
actions (see shinytests vignette.)</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>US EPA 2025</p>
</div>

<div class="pkgdown-footer-right">
  <p>EJAM Version 2.32.2</p>
</div>

    </footer>
</div>





  </body>
</html>
